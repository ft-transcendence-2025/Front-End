<!-- Modern Remote Tournament Lobby -->
<div id="tournament-lobby" class="min-h-screen bg-gradient-to-br from-(--color-background) via-(--color-background-secondary) to-(--color-background) p-6">
  <!-- Header -->
  <div class="mx-auto max-w-7xl">
    <div class="mb-8 flex items-center justify-between">
      <div>
        <h1 id="tournament-name" class="text-4xl font-bold text-(--color-text-primary) mb-2">
          Loading Tournament...
        </h1>
        <div class="flex items-center gap-4">
          <span id="tournament-phase" class="inline-flex items-center rounded-full bg-(--color-primary) px-4 py-1 text-sm font-medium text-white">
            <span class="mr-2 h-2 w-2 rounded-full bg-white animate-pulse"></span>
            Registration
          </span>
          <span id="connection-status" class="text-sm text-(--color-text-secondary)">
            <i class="fas fa-circle text-yellow-500 mr-1"></i> Connecting...
          </span>
        </div>
      </div>
      
      <button
        id="leave-tournament-btn"
        class="rounded-lg bg-red-600 px-6 py-3 font-semibold text-white transition-all hover:bg-red-700 hover:scale-105"
      >
        <i class="fas fa-sign-out-alt mr-2"></i> Leave
      </button>
    </div>

    <!-- Main Grid -->
    <div class="grid grid-cols-1 gap-6 xl:grid-cols-4">
      <!-- Players & Bracket Column -->
      <div class="xl:col-span-3 space-y-6">
        <div class="rounded-2xl bg-(--color-background-secondary) p-6 shadow-xl border border-(--color-primary-light)/20">
          <div class="mb-6 flex items-center justify-between">
            <h2 class="text-2xl font-bold text-(--color-text-primary)">
              <i class="fas fa-users mr-2 text-(--color-primary)"></i>
              Players <span id="player-count" class="text-(--color-text-secondary)">(0/4)</span>
            </h2>
            
            <!-- Registration Timer -->
            <div id="registration-timer" class="hidden text-right">
              <div class="text-sm text-(--color-text-secondary)">Tournament starts in</div>
              <div id="timer-display" class="text-3xl font-bold text-(--color-primary)">02:00</div>
            </div>
          </div>

          <!-- Players Grid -->
          <div id="players-grid" class="grid grid-cols-1 gap-4 md:grid-cols-2">
            <!-- Player cards will be inserted here -->
          </div>

          <!-- Ready Button -->
          <div id="ready-section" class="mt-6 flex items-center justify-between rounded-lg bg-(--color-background)/50 p-4">
            <div>
              <div class="text-sm text-(--color-text-secondary)">Ready Status</div>
              <div id="ready-status-text" class="text-lg font-semibold text-(--color-text-primary)">
                Click ready when you're prepared to start
              </div>
            </div>
            <button
              id="toggle-ready-btn"
              class="rounded-lg bg-(--color-primary) px-8 py-4 text-lg font-bold text-white transition-all hover:bg-(--color-primary-dark) hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"
            >
              <i class="fas fa-check mr-2"></i> Mark Ready
            </button>
          </div>

          <!-- Start Tournament Button (Creator Only) -->
          <button
            id="start-tournament-btn"
            class="mt-4 hidden w-full rounded-lg bg-green-600 px-8 py-4 text-lg font-bold text-white transition-all hover:bg-green-700 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"
          >
            <i class="fas fa-play-circle mr-2"></i> Start Tournament
          </button>
        </div>

        <!-- Bracket Overview -->
        <div id="bracket-section" class="rounded-2xl bg-(--color-background-secondary) p-6 shadow-xl border border-(--color-primary-light)/20 hidden">
          <div class="mb-6 flex items-center justify-between">
            <h2 class="text-2xl font-bold text-(--color-text-primary)">
              <i class="fas fa-project-diagram mr-2 text-(--color-primary)"></i>
              Bracket Progress
            </h2>
            <div id="bracket-phase-label" class="rounded-full bg-(--color-primary)/10 px-3 py-1 text-sm font-semibold text-(--color-primary)">
              Waiting for matches...
            </div>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-3" id="bracket-grid">
            <!-- Semifinals Column -->
            <div class="space-y-4">
              <h3 class="text-lg font-semibold text-(--color-text-secondary) uppercase tracking-wide">Semifinals</h3>
              <div id="semifinal-1" class="bracket-card"></div>
              <div id="semifinal-2" class="bracket-card"></div>
            </div>

            <!-- Finals Column -->
            <div class="space-y-4">
              <h3 class="text-lg font-semibold text-(--color-text-secondary) uppercase tracking-wide">Final</h3>
              <div id="final" class="bracket-card"></div>
            </div>

            <!-- Third Place Column -->
            <div class="space-y-4">
              <h3 class="text-lg font-semibold text-(--color-text-secondary) uppercase tracking-wide">Third Place</h3>
              <div id="third-place" class="bracket-card"></div>
            </div>
          </div>
        </div>

        <!-- Tournament Info -->
        <div class="mt-6 grid grid-cols-1 gap-4 md:grid-cols-3">
          <div class="rounded-lg bg-(--color-background-secondary) p-4 border border-(--color-primary-light)/20">
            <div class="text-sm text-(--color-text-secondary)">Tournament Type</div>
            <div id="tournament-type" class="text-xl font-bold text-(--color-primary)">
              <i class="fas fa-trophy mr-2"></i>4-Player Bracket
            </div>
          </div>
          
          <div class="rounded-lg bg-(--color-background-secondary) p-4 border border-(--color-primary-light)/20">
            <div class="text-sm text-(--color-text-secondary)">Ranked</div>
            <div id="tournament-ranked" class="text-xl font-bold text-(--color-text-primary)">
              <i class="fas fa-star mr-2"></i>No
            </div>
          </div>
          
          <div class="rounded-lg bg-(--color-background-secondary) p-4 border border-(--color-primary-light)/20">
            <div class="text-sm text-(--color-text-secondary)">Spectators</div>
            <div id="tournament-spectators" class="text-xl font-bold text-(--color-text-primary)">
              <i class="fas fa-eye mr-2"></i>Allowed
            </div>
          </div>
        </div>
      </div>

      <!-- Chat Column -->
      <div class="xl:col-span-1">
        <div class="rounded-2xl bg-(--color-background-secondary) p-6 shadow-xl border border-(--color-primary-light)/20 h-[600px] flex flex-col">
          <h2 class="text-2xl font-bold text-(--color-text-primary) mb-4">
            <i class="fas fa-comments mr-2 text-(--color-primary)"></i>
            Tournament Chat
          </h2>

          <!-- Chat Messages -->
          <div id="chat-messages" class="flex-1 space-y-3 overflow-y-auto rounded-lg bg-(--color-background)/30 p-4 mb-4">
            <!-- System message -->
            <div class="flex items-start gap-3">
              <div class="flex h-10 w-10 items-center justify-center rounded-full bg-(--color-primary)">
                <i class="fas fa-info text-white"></i>
              </div>
              <div class="flex-1">
                <div class="text-sm font-semibold text-(--color-primary)">System</div>
                <div class="text-sm text-(--color-text-secondary)">
                  Welcome to the tournament lobby! Chat with other players while waiting.
                </div>
              </div>
            </div>
          </div>

          <!-- Chat Input -->
          <div class="flex gap-2">
            <div class="relative flex-1">
              <input
                id="chat-input"
                type="text"
                placeholder="Type a message..."
                class="w-full rounded-lg bg-(--color-background)/50 border border-(--color-primary-light)/30 px-4 py-3 pr-16 text-(--color-text-primary) placeholder-gray-500 focus:border-(--color-primary) focus:outline-none"
                maxlength="200"
              />
              <button
                id="send-chat-btn"
                class="absolute right-2 top-1/2 inline-flex h-10 w-10 -translate-y-1/2 items-center justify-center rounded-lg bg-(--color-primary) text-white transition-all hover:bg-(--color-primary-dark)"
              >
                <i class="fas fa-paper-plane"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Bracket Match Template -->
<template id="bracket-match-template">
  <div class="rounded-xl border border-(--color-primary-light)/30 bg-(--color-background)/80 p-4 shadow-sm">
    <div class="flex items-center justify-between mb-3">
      <span class="match-stage text-xs font-semibold uppercase tracking-wide text-(--color-text-secondary)"></span>
      <span class="match-status text-xs font-bold text-(--color-primary)"></span>
    </div>
    <div class="space-y-3">
      <div class="player-row flex items-center justify-between">
        <div class="flex items-center gap-2">
          <span class="player-seed inline-flex h-8 w-8 items-center justify-center rounded-full bg-(--color-primary)/10 text-(--color-primary) font-bold"></span>
          <span class="player-name text-sm font-semibold text-(--color-text-primary)"></span>
        </div>
        <span class="player-score text-sm font-bold text-(--color-text-secondary)">-</span>
      </div>
      <div class="player-row flex items-center justify-between">
        <div class="flex items-center gap-2">
          <span class="player-seed inline-flex h-8 w-8 items-center justify-center rounded-full bg-(--color-primary)/10 text-(--color-primary) font-bold"></span>
          <span class="player-name text-sm font-semibold text-(--color-text-primary)"></span>
        </div>
        <span class="player-score text-sm font-bold text-(--color-text-secondary)">-</span>
      </div>
    </div>
    <div class="mt-3 text-xs text-(--color-text-secondary)">
      <span class="match-meta"></span>
    </div>
  </div>
</template>

<!-- Player Card Template -->
<template id="player-card-template">
  <div class="player-card rounded-lg border-2 transition-all" data-player-id="">
    <div class="p-4">
      <div class="flex items-center gap-4">
        <!-- Avatar -->
        <div class="relative">
          <img
            class="player-avatar h-16 w-16 rounded-full border-2 object-cover"
            src=""
            alt="Player avatar"
          />
          <div class="player-status absolute -bottom-1 -right-1 h-5 w-5 rounded-full border-2 border-white"></div>
        </div>

        <!-- Info -->
        <div class="flex-1">
          <div class="player-name text-lg font-bold text-(--color-text-primary)"></div>
        </div>

        <!-- Ready Badge -->
        <div class="player-ready-badge hidden rounded-full bg-green-500 px-3 py-1 text-xs font-bold text-white">
          <i class="fas fa-check mr-1"></i> READY
        </div>
        
        <!-- Waiting Badge -->
        <div class="player-waiting-badge rounded-full bg-gray-500 px-3 py-1 text-xs font-bold text-white">
          <i class="fas fa-clock mr-1"></i> WAITING
        </div>
      </div>
    </div>
  </div>
</template>

<!-- Chat Message Template -->
<template id="chat-message-template">
  <div class="flex items-start gap-3">
    <div class="flex h-10 w-10 items-center justify-center rounded-full">
      <img class="message-avatar h-full w-full rounded-full object-cover" src="" alt="" />
    </div>
    <div class="flex-1">
      <div class="flex items-center gap-2">
        <span class="message-sender text-sm font-semibold text-(--color-text-primary)"></span>
        <span class="message-time text-xs text-(--color-text-secondary)"></span>
      </div>
      <div class="message-text text-sm text-(--color-text-secondary)"></div>
    </div>
  </div>
</template>
